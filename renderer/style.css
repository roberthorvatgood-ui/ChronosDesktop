/* [Updated 2026-01-31 17:00 CET] Full stylesheet (base + density-compact + i-sun) */

/* Tokens */
:root{--accent:#115ea3; --accent-2:#0e4775; --danger:#c42b1c; --ok:#107c10; --bg:#f5f5f6; --surface:#ffffff; --border:#d1d6db; --text:#111318; --muted:#5d6670; --btn-bg:#ffffff; --btn-fg:var(--text); --btn-border:#c9d1d9; --btn-hover:#f3f4f6; --radius:8px; --shadow:0 6px 24px rgba(0,0,0,.08),0 2px 6px rgba(0,0,0,.06)}
html[data-theme='dark']{--bg:#0b0d10; --surface:#111418; --border:#2a2f36; --text:#e7e9ed; --muted:#a9b3bd; --btn-bg:#0f1216; --btn-fg:#e7e9ed; --btn-border:#2a2f36; --btn-hover:#161a20; --accent:#2990e7; --accent-2:#1769b0}

/* Base */
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Segoe UI,Roboto,Arial;line-height:1.45;font-size:14px}
.visually-hidden{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}

/* Top bar */
.topbar{position:sticky;top:0;z-index:1000;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;box-shadow:var(--shadow);min-height:56px}
.brand{display:flex;gap:.9rem;align-items:center}
.brand-logo{width:84px;height:auto;border-radius:10px;background:#fff;padding:3px}
.brand-title{font-weight:800;font-size:16px}
.brand-sub{opacity:.95}
.right{display:flex;gap:10px;align-items:center}

/* Lang select (light/dark consistent) */
.right select{appearance:none;cursor:pointer;border-radius:8px;border:1px solid rgba(255,255,255,.7);padding:.36rem .90rem .36rem .70rem;background:rgba(255,255,255,.18);color:#fff;min-width:64px}
html[data-theme='light'] .right select{border:1px solid var(--border);background:#fff;color:var(--text)}
.right select:focus-visible{outline:2px solid var(--accent);outline-offset:2px}

/* Icon button */
.icon-btn{background:transparent;border:1px solid rgba(255,255,255,.6);color:#fff;padding:.35rem .55rem;border-radius:8px;cursor:pointer}
html[data-theme='light'] .icon-btn{border-color:var(--border);color:var(--text)}

/* Layout */
.container{max-width:1200px;margin:16px auto;padding:0 16px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
.grid-two{display:grid;grid-template-columns:1fr 1fr;gap:16px}

/* Inputs */
.field input,.search,.sort{background:var(--surface);color:inherit;border:1px solid var(--border);border-radius:8px;padding:10px}
html[data-theme='dark'] .field input,
html[data-theme='dark'] .search,
html[data-theme='dark'] .sort{background:#0f1216;border-color:#2a2f36;color:#e7e9ed}
.field input::placeholder{color:var(--muted)}

/* Buttons / segments */
.actions{display:flex;gap:8px;align-items:center}
.commandbar{position:static;display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:10px 12px;box-shadow:var(--shadow);margin:12px 0;backdrop-filter:saturate(140%) blur(4px)}
.group{display:flex;gap:8px;align-items:center;flex:1 1 460px;flex-wrap:wrap}
.group.right{justify-content:flex-end}
.segment{display:inline-flex;border:1px solid var(--btn-border);border-radius:8px;overflow:hidden}
.segment .btn{border:none;border-right:1px solid var(--btn-border);border-radius:0;background:transparent;color:#4b5563;padding:.40rem .70rem}
.segment .btn:last-child{border-right:none}
.segment .btn:hover{background:var(--btn-hover)}
.tabs{display:flex;gap:8px;margin:12px 0}
.tab{border:1px solid var(--btn-border);background:transparent;color:inherit;border-radius:999px;padding:.42rem .90rem;cursor:pointer}
.tab.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.meter{height:10px;border-radius:999px;background:rgba(127,127,127,.18);overflow:hidden}
.meter-fill{height:100%;width:0%;background:var(--accent);transition:width .3s ease}
.btn{appearance:none;border:1px solid var(--btn-border);background:var(--btn-bg);color:var(--btn-fg);border-radius:8px;padding:.40rem .72rem;font-weight:600;cursor:pointer;transition:background .15s ease}
.btn:hover{background:var(--btn-hover)}
.btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.btn.danger{background:transparent;color:var(--danger);border-color:var(--btn-border)}

/* List */
.list{padding:0}
.day{border-top:1px solid var(--border);padding:12px 8px;border-radius:8px}
.day:first-child{border-top:none}
.day-head{display:flex;justify-content:space-between;align-items:center;gap:.5rem;cursor:pointer}
.day-left{display:flex;align-items:center;gap:10px}
.day-actions{display:flex;gap:8px;align-items:center}
.files{margin-top:8px;border-top:1px dashed var(--border);padding-top:8px;overflow:hidden;transition:max-height .22s ease,opacity .18s ease}
.files.is-collapsed{max-height:0;opacity:0;padding-top:0;margin-top:0}
.file{display:flex;justify-content:space-between;align-items:center;padding:.26rem 0;border-radius:8px}
.file-left{display:flex;align-items:center;gap:8px}
.file-name{color:#0f6cbd;font-weight:600;text-decoration:none}
.file-name:hover{text-decoration:underline}

/* Hover affordances */
.day:hover{background:rgba(127,127,127,.06)}
.file:hover{background:rgba(127,127,127,.08)}
html[data-theme='dark'] .day:hover{background:rgba(255,255,255,.04)}
html[data-theme='dark'] .file:hover{background:rgba(255,255,255,.06)}

/* Status chip */
.chip{padding:.28rem .60rem;border-radius:999px;border:1px solid rgba(255,255,255,.7);background:rgba(255,255,255,.18);font-weight:700}
.chip.status-on{background:#107c10;color:#fff;border-color:#0b5f0b}
.chip.status-checking{background:#b8860b;color:#fff;border-color:#946f09}
.chip.status-off{background:#c42b1c;color:#fff;border-color:#a52617}
html[data-theme='light'] .chip{border-color:rgba(0,0,0,.12)}

/* Progress + toast */
#progress{transition:opacity .18s ease,transform .18s ease;opacity:0;transform:translateY(4px)}
#progress.is-visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:var(--surface);border:1px solid var(--border);box-shadow:var(--shadow);padding:10px 14px;border-radius:8px}
.hidden{display:none}

/* Diagnostics */
.diag .diag-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.kv{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.kv > div{display:flex;justify-content:space-between;border:1px dashed var(--border);border-radius:8px;padding:8px 10px}

/* Fluent 16px icons */
.i{display:inline-block;width:16px;height:16px;background-size:16px 16px;vertical-align:-2px}
.i-check{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3E%3Cpath d='M6.3 10.2 3.8 7.7l-1 1 3.5 3.5 7-7-1-1-6 6z'/%3E%3C/svg%3E")}
.i-arrow-sync{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M11.5 4.5a5 5 0 1 0 1.4 4.1h-1.6a3.5 3.5 0 1 1-1-2.4l-1.3 1.3H14V1.9l-1.4 1.4-1.1 1.2z'/%3E%3C/svg%3E")}
.i-chevron-down{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M4.5 6l3.5 3.5L11.5 6l1 1L8 11 3.5 7z'/%3E%3C/svg%3E")}
.i-chevron-up{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M11.5 10 8 6.5 4.5 10l-1-1L8 5l4.5 4z'/%3E%3C/svg%3E")}
.i-select-all{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M2 2h12v12H2zM3.5 3.5v9h9v-9z'/%3E%3C/svg%3E")}
.i-erase{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M2 11l4.5-5L10 11H2zm11 2H2v1h11z'/%3E%3C/svg%3E")}
.i-folder{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M2 4h4l1 1h7v7a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a1 1 0 0 1 1-1z'/%3E%3C/svg%3E")}
.i-arrow-download{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3E%3Cpath d='M7 2h2v6l2-2 .7.7L8 11 4.3 6.7 5 6l2 2V2zM3 13h10v1H3z'/%3E%3C/svg%3E")}
.i-delete{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23c42b1c'%3E%3Cpath d='M5 3l1-1h4l1 1h3v1H2V3h3zm1 3h1v6H6V6zm3 0h1v6H9V6z'/%3E%3C/svg%3E")}
.i-dense{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M2 3h12v2H2zm0 4h12v2H2zm0 4h12v2H2z'/%3E%3C/svg%3E")}
.i-moon{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M10.5 12.5a5.5 5.5 0 0 1-4.9-8A5.5 5.5 0 1 0 10.5 12.5z'/%3E%3C/svg%3E")}
.i-copy{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M6 2h7v9H6zM3 5h2v9h7v2H3z'/%3E%3C/svg%3E")}

/* --- Additions --- */

/* Compact density overrides */
body.density-compact { font-size:13px; }
body.density-compact .topbar { min-height:48px; padding:8px 12px; }
body.density-compact .container { padding:0 12px; }
body.density-compact .card { padding:12px; }
body.density-compact .grid-two { gap:12px; }
body.density-compact .field input,
body.density-compact .search,
body.density-compact .sort { padding:8px; }
body.density-compact .tabs { gap:6px; margin:10px 0; }
body.density-compact .tab { padding:.32rem .72rem; }
body.density-compact .segment .btn { padding:.28rem .56rem; }
body.density-compact .btn { padding:.32rem .60rem; }
body.density-compact .icon-btn { padding:.28rem .50rem; }
body.density-compact .day { padding:8px 6px; }
body.density-compact .day-left { gap:8px; }
body.density-compact .commandbar { gap:8px; padding:8px 10px; margin:10px 0; }
body.density-compact .meter { height:8px; }

/* Sun icon for light mode (pairs with i-moon) */
.i-sun{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'%3E%3Cpath d='M8 4.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7zm0-3.5h1v2H7V1h1zm0 11h1v2H7v-2h1zM1 7h2v2H1V7zm12 0h2v2h-2V7zM3.2 2.8l1.4 1.4L3.2 5.6 1.8 4.2 3.2 2.8zm9.6 9.6-1.4-1.4 1.4-1.4 1.4 1.4-1.4 1.4zm0-9.6 1.4 1.4-1.4 1.4-1.4-1.4L12.8 2.8zM3.2 10.2l1.4 1.4-1.4 1.4-1.4-1.4 1.4-1.4z'/%3E%3C/svg%3E")}
